local lpeg = require('lpeg')

local P = lpeg.P

local module = {}

module.include_paths = {}
for p in ("${TEST_INCLUDE_DIRS}" .. ";"):gmatch("[^;]+") do
  table.insert(module.include_paths, p)
end

module.test_build_dir = "${CMAKE_BINARY_DIR}"
module.test_include_path = module.test_build_dir .. "/test/includes/post"
module.test_libnvim_path = "${TEST_LIBNVIM_PATH}"
module.test_source_path = "${CMAKE_SOURCE_DIR}"
module.test_lua_prg = "${LUA_PRG}"
module.test_luajit_prg = ""
if module.test_luajit_prg == '' then
  if lpeg.match(P(string.reverse("luajit")) + P(string.reverse("luajit.exe")),
    module.test_lua_prg:reverse()) then
    module.test_luajit_prg = module.test_lua_prg
  else
    module.test_luajit_prg = nil
  end
end
table.insert(module.include_paths, "${CMAKE_BINARY_DIR}/include")

return module
